# 생성자 함수



## Object 생성자 함수

 자바스크립트는 Object, String, Number, Boolean, Function, Array, Date, RegExp 등 __빌트인 생성자 함수__를 제공한다.

```js
const person = new Object();
console.log(typeof person); // object
console.log(person); // {}
```

위 예제의 Object는 원래 자바스크립트 엔진에 만들어진 객체가 내장되어있는 빌트인 생성자 함수이다.

'원래있던' Object 함수에 person이란 인스턴스를 만드는 과정



## 생성자 함수란?

new 연산자와 함께 호출하여 인스턴스(객체)를 생성하는 함수이다.

__기존 함수에 new 연산자를 붙여서 호출하면, 해당 함수는 생성자 함수로 동작한다.__

```js
function 생성자함수 (){
  // 생성자 함수를 호출하면 생성된 인스턴스가 가질 프로퍼티 생성문
} 

생성자함수.프로퍼티 = 1; // '생성자 함수'에 프로퍼티, 혹은 정적 메소드 추가
생성자함수.prototype.메소드 = function () { this }; // 생성자 함수의 프로토타입에 동적 메소드 추가

const 인스턴스 = new 생성자함수 (); // 생성자 함수 호출
```

this가 없는 정적 메소드나 정적 프로퍼티는  - 생성자함수에

this가 있는 동적 메소드는 - 생성자함수.prototype에 담는다.

생성자 함수 호출로 실행된 결과인 프로퍼티는 - 인스턴스에 담긴다.

이때, 생성자함수의 프로퍼티나 생성자함수.프로토타입의 메소드는 생성자함수 블록문 밖에서 할당해줘야 한다.



### 생성자 함수의 필요성

여러개의 동일한 프로퍼티를 가지는 객체를 생성하기 위해 필요하다.

**'상속'**을 이용해 프로퍼티 중북을 피햐여 메모리 절감 효과가 있다.



### 생성자 함수를 일반호출 하면 안되는 이유

생성자함수에는 리턴값을 쓰지 않아서 호출결과 __undefined__값이 나올 것이다.

생성자함수를 일반호출하면 그 안의 this가 __전역객체__를 가르켜 원래 만든목적과는 다르게 동작할 것이다.



### this 호출

this가 가르키는 객체의 프로퍼티나 메소드를 참조하기위한 자기참조변수이다.

this가 가르키는 값은 즉, this 바인딩은 함수호출 방식에 따라 동적으로 결정된다.

```
|함수 호출 방식|this가 가리키는 값|
|------|---|
|일반 함수로 호출|전역 객체 (쓸일없음)|
|메소드로 호출|메소드를 호출한 객체 (.마침표 앞의 객체)|
|생성자 함수로 호출|생성자 함수가 생성할 인스턴스|
```

아래는 this를 함수 호출한 방식에 따라 this의 콘솔창 결과가 바뀌는 모습이다.

```js
function foo() {
  console.log(this);
}

// 일반적인 함수로서 호출
foo(); // window

// 메소드로서 호출
const obj = { foo }; // ES6 프로퍼티 축약 표현
obj.foo(); // { foo: [Function: foo] }

// 생성자 함수로서 호출
const inst = new foo(); // inst // 빈객체 {}
```



### 생성자 함수가 인스턴스를 생성하는 내부 동작 과정

> __생성자 함수 몸체에서 수행해야 하는것이 뭘까?__
>
> - 인스턴스 생성
>
> - 인스턴스에 프로퍼티 추가 및 초기값 할당

1. 인스턴스 생성과 this 바인딩











